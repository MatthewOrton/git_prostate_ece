source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
f <- update(f, x=T, y=T)
set.seed(131)
validate(f, B=100)
0.77/2+0.5
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
f <- lrm(ECE_Pathology ~ CapsularContactLength + GleasonBinary + PSA, df)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
0.6519/2+0.5
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
0.667/2+0.5
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
Summary(df$MeasurableECE)
summary(df$MeasurableECE)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
min(df$MajorLengthIndex)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
min(df$MajorLengthIndex)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
0.6956/2+0.5
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
table(df$IrregularContour, df$CapsularDisruption)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
f
View(f)
f$terms
str(f$terms)
as.formula(f$terms)
f$sformula
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
f$sformula
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
View(f)
f$sformula
'~'
'~~'
'~'=='~'
f$terms[1]
as.string(f$terms[1])
as.character(f$terms[1])
as.character(f$terms[1])[1]
as.character(f$terms[1])[2]
as.character(f$terms[1])[3]
as.character(f$sformula)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
View(cal)
cal
Summary(cal)
cummary(cal)
summary(cal)
cal[1]
cal[2]
cal[3]
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
val
View(val)
val[1]
val[2]
val[22]
val[42]
val[1,1]
val[1,4]
table(df$CapsularDisruption, df$IrregularContour)
table(df$CapsularDisruption, df$IrregularContour, df$ECE_Pathology)
table(df$CapsularDisruption[df$ECE_Pathology==0,], df$IrregularContour[df$ECE_Pathology==0,])
table(df$CapsularDisruption[df$ECE_Pathology==0], df$IrregularContour[df$ECE_Pathology==0])
table(df$CapsularDisruption[df$ECE_Pathology==1], df$IrregularContour[df$ECE_Pathology==1])
table(df$RetroprostaticAngleOblit, df$IrregularContour, df$ECE_Pathology)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
table(df$new, df$RetroprostaticAngleOblit)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
f
f$coefficients
f$coefficients['CapsularContactLength']
f$coefficients['CapsularContactLength'][1]
plot(f)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
f
plot(f)
plot(Predict(f))
plot(Predict(f, PSA))
plot(Predict(f, 'PSA'))
Predict(f)
f
Predict(f, df)
Predict(f, single)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
df
plot(df)
plot(Predict(df))
an = anova(df)
View(f)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
plot(df$single, f$linear.predictors)
plsmo(df[,cf], df[,'ECE_Pathology'], method='lowess', xlab=cf, ylab='logit Pr(ECE=1)', datadensity=TRUE, fun=qlogis)
line(df$single, f$linear.predictors)
plot(line(df$single, f$linear.predictors))
lines(df$single, f$linear.predictors)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
plot(f, IrregularContour=c(-1,1))
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
plot(f)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
View(f)
plot(f)
Predict(f)
n <- 1000    # define sample size
set.seed(17) # so can reproduce the results
age            <- rnorm(n, 50, 10)
blood.pressure <- rnorm(n, 120, 15)
cholesterol    <- rnorm(n, 200, 25)
sex            <- factor(sample(c('female','male'), n,TRUE))
label(age)            <- 'Age'      # label is in Hmisc
label(cholesterol)    <- 'Total Cholesterol'
label(blood.pressure) <- 'Systolic Blood Pressure'
label(sex)            <- 'Sex'
units(cholesterol)    <- 'mg/dl'   # uses units.default in Hmisc
units(blood.pressure) <- 'mmHg'
# Specify population model for log odds that Y=1
L <- .4*(sex=='male') + .045*(age-50) +
(log(cholesterol - 10)-5.2)*(-2*(sex=='female') + 2*(sex=='male'))
# Simulate binary y to have Prob(y=1) = 1/[1+exp(-L)]
y <- ifelse(runif(n) < plogis(L), 1, 0)
ddist <- datadist(age, blood.pressure, cholesterol, sex)
options(datadist='ddist')
fit <- lrm(y ~ blood.pressure + sex * (age + rcs(cholesterol,4)),
x=TRUE, y=TRUE)
an <- anova(fit)
# Plot effects of all 4 predictors with test statistics from anova, and P
plot(Predict(fit), anova=an, pval=TRUE)
n <- 1000    # define sample size
set.seed(17) # so can reproduce the results
age            <- rnorm(n, 50, 10)
blood.pressure <- rnorm(n, 120, 15)
cholesterol    <- rnorm(n, 200, 25)
sex            <- factor(sample(c('female','male'), n,TRUE))
label(age)            <- 'Age'      # label is in Hmisc
label(cholesterol)    <- 'Total Cholesterol'
label(blood.pressure) <- 'Systolic Blood Pressure'
label(sex)            <- 'Sex'
units(cholesterol)    <- 'mg/dl'   # uses units.default in Hmisc
units(blood.pressure) <- 'mmHg'
# Specify population model for log odds that Y=1
L <- .4*(sex=='male') + .045*(age-50) +
(log(cholesterol - 10)-5.2)*(-2*(sex=='female') + 2*(sex=='male'))
# Simulate binary y to have Prob(y=1) = 1/[1+exp(-L)]
y <- ifelse(runif(n) < plogis(L), 1, 0)
ddist <- datadist(age, blood.pressure, cholesterol, sex)
options(datadist='ddist')
fit <- lrm(y ~ blood.pressure + sex * (age + rcs(cholesterol,4)),
x=TRUE, y=TRUE)
an <- anova(fit)
# Plot effects of all 4 predictors with test statistics from anova, and P
plot(Predict(fit), anova=an, pval=TRUE)
plot(Predict(fit), data=llist(blood.pressure,age))
# rug plot for two of the predictors
p <- Predict(fit, name=c('age','cholesterol'))   # Make 2 plots
plot(p)
n <- 1000    # define sample size
set.seed(17) # so can reproduce the results
age            <- rnorm(n, 50, 10)
blood.pressure <- rnorm(n, 120, 15)
cholesterol    <- rnorm(n, 200, 25)
sex            <- factor(sample(c('female','male'), n,TRUE))
label(age)            <- 'Age'      # label is in Hmisc
label(cholesterol)    <- 'Total Cholesterol'
label(blood.pressure) <- 'Systolic Blood Pressure'
label(sex)            <- 'Sex'
units(cholesterol)    <- 'mg/dl'   # uses units.default in Hmisc
units(blood.pressure) <- 'mmHg'
# Specify population model for log odds that Y=1
L <- .4*(sex=='male') + .045*(age-50) +
(log(cholesterol - 10)-5.2)*(-2*(sex=='female') + 2*(sex=='male'))
# Simulate binary y to have Prob(y=1) = 1/[1+exp(-L)]
y <- ifelse(runif(n) < plogis(L), 1, 0)
ddist <- datadist(age, blood.pressure, cholesterol, sex)
options(datadist='ddist')
fit <- lrm(y ~ blood.pressure + sex * (age + rcs(cholesterol,4)),
x=TRUE, y=TRUE)
an <- anova(fit)
# Plot effects of all 4 predictors with test statistics from anova, and P
plot(Predict(fit), anova=an, pval=TRUE)
plot(Predict(fit), data=llist(blood.pressure,age))
# rug plot for two of the predictors
p <- Predict(fit, name=c('age','cholesterol'))   # Make 2 plots
plot(p)
p <- Predict(fit, age=seq(20,80,length=100), sex, conf.int=FALSE)
# Plot relationship between age and log
# odds, separate curve for each sex,
plot(p, subset=sex=='female' | age > 30)
# No confidence interval, suppress estimates for males <= 30
p <- Predict(fit, age, sex)
plot(p, label.curves=FALSE, data=llist(age,sex))
# use label.curves=list(keys=c('a','b'))'
# to use 1-letter abbreviations
# data= allows rug plots (1-dimensional scatterplots)
# on each sex's curve, with sex-
# specific density of age
# If data were in data frame could have used that
p <- Predict(fit, age=seq(20,80,length=100), sex='male', fun=plogis)
# works if datadist not used
plot(p, ylab=expression(hat(P)))
# plot predicted probability in place of log odds
per <- function(x, y) x >= 30
plot(p, perim=per)       # suppress output for age < 30 but leave scale alone
# Take charge of the plot setup by specifying a lattice formula
p <- Predict(fit, age, blood.pressure=c(120,140,160),
cholesterol=c(180,200,215), sex)
plot(p, ~ age | blood.pressure*cholesterol, subset=sex=='male')
# plot(p, ~ age | cholesterol*blood.pressure, subset=sex=='female')
# plot(p, ~ blood.pressure|cholesterol*round(age,-1), subset=sex=='male')
plot(p)
p <- Predict(fit, age, sex)
plot(p)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
ECE_Pathology
CapsularContactLength
f
f <- lrm(ECE_Pathology ~ CapsularContactLength + IrregularContour)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
f
p <- Predict(f, CapsularContactLength, IrregularContour)
plot(p)
f <- lrm(ECE_Pathology ~ rcs(CapsularContactLength,3) + IrregularContour)
p <- Predict(f, CapsularContactLength, IrregularContour)
plot(p)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
f <- lrm(ECE_Pathology ~ single, df, x=TRUE, y=TRUE)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
f
plot(F)
plot(f)
plot(Predict(f))
plot(Predict(f), data=df)
plsmo(df[,cf], df[,'ECE_Pathology'], method='lowess', xlab=cf, ylab='logit Pr(ECE=1)', datadensity=TRUE, fun=qlogis)
df$single <- df[,cf]
pp <- plsmo(df[,cf], df[,'ECE_Pathology'], method='lowess', xlab=cf, ylab='logit Pr(ECE=1)', datadensity=TRUE, fun=qlogis)
pp
pp$`1`$x
plot(Predict(f))
lines(pp$`1`$x, pp$`1`$y)
plot(pp$`1`$x, pp$`1`$y)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
plsmo(CapsularContactLength, ECE_Pathology, method='lowess', xlab='CapsularContactLength', ylab='logit Pr(ECE=1)', group=IrregularContour+CapsularDisruption, datadensity=TRUE, fun=qlogis, ylim=c(-6,4))
table(IrregularContour, CapsularDisruption)
plsmo(CapsularContactLength, ECE_Pathology, method='lowess', xlab='CapsularContactLength', ylab='logit Pr(ECE=1)', group=IrregularContour+MeasurableECE, datadensity=TRUE, fun=qlogis, ylim=c(-6,4))
plsmo(CapsularContactLength, ECE_Pathology, method='lowess', xlab='CapsularContactLength', ylab='logit Pr(ECE=1)', group=IrregularContour+MeasurableECE, datadensity=TRUE, fun=qlogis)
plsmo(CapsularContactLength, ECE_Pathology, method='lowess', xlab='CapsularContactLength', ylab='logit Pr(ECE=1)', group=IrregularContour+CapsularDisruption, datadensity=TRUE, fun=qlogis)
plsmo(CapsularContactLength, ECE_Pathology, method='lowess', xlab='CapsularContactLength', ylab='logit Pr(ECE=1)', group=IrregularContour+2*CapsularDisruption, datadensity=TRUE, fun=qlogis)
plsmo(CapsularContactLength, ECE_Pathology, method='lowess', xlab='CapsularContactLength', ylab='logit Pr(ECE=1)', group=(IrregularContour+2*CapsularDisruption)==0, datadensity=TRUE, fun=qlogis)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
CapsularDisruption
table(IrregularContour, CapsularDisruption)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
f$sformula
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
cal
MajorLengthIndex
as.numeric(MajorLengthIndex)
is.numeric(MajorLengthIndex)
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
source('~/Documents/GitHub/prostate_ece_semantic/R/logisticRegression_FollowingHarrell.R')
